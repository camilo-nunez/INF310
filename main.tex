\documentclass[letterpaper,oneside,12pt,english]{book}

\usepackage[activeacute, english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{tocbibind} % Bibliografía en el indice
\usepackage{titlesec} % Posibilidad de editar los formatos de chapter
%\usepackage{amsmath,amssymb,mathrsfs} % Matemáticas varias
\usepackage{amssymb,amsmath}
\usepackage{mathtools}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\usepackage{hyperref} %Esto te hace un pequeño esquemita al lado
\usepackage{listings}
\usepackage{anysize} 
%\usepackage{algorithmicx} % Para pseudocódigo de algoritmos
\usepackage{algpseudocode}
\usepackage[chapter]{algorithm}
\usepackage{float}
\usepackage{array}
\usepackage{marvosym}
\usepackage{caption,subcaption}
%\usepackage{caption}
% \usepackage[showframe]{geometry}
\usepackage{enumitem}

\input{macros}

% \usepackage[section]{placeins}
% \usepackage[section, subsection]{placeins}
\usepackage[section]{placeins}
% \usepackage[subsection]{placeins}


 

%\usepackage[chapter]{algorithm}
%\usepackage{algpseudocode}
%\algtext*{EndIf}
\usepackage{tocbibind}
%\renewcommand{\listalgorithmname}{Índice de algoritmos}
\usepackage[titletoc]{appendix} % Para tener apéndice en vez de capítulos
\usepackage{multicol}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{wrapfig}
\usepackage{lscape}
\usepackage{rotating}
\usepackage{stmaryrd}
\usepackage{relsize}
% --- Arreglos varios para la inclusion de imagenes
%\usepackage[pdftex]{graphicx}
\usepackage{epstopdf}
\usepackage{subfig}
\usepackage{graphicx}
\usepackage{adjustbox}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{tikz}
\usepackage{tikz-qtree}
\usetikzlibrary{trees, positioning, shapes.geometric,backgrounds,calc,external,decorations.pathreplacing,calligraphy,bending,arrows,shapes.misc,arrows.meta}
\usepackage{smartdiagram}
\tikzexternalize % activate!

\usepackage{lettrine}
\setcounter{DefaultLines}{2}
%\renewcommand{\LettrineFontHook}{\bfseries \color{BrickRed}}
\usepackage{Typocaps, Rothdn}
\renewcommand{\LettrineFontHook}{\Rothdnfamily}

\usepackage{numprint}
\npthousandsep{,}


\hyphenation{mod-e-ling}
\hyphenation{in-tra-gran-u-lar}
\hyphenation{bound-ary}
\hyphenation{common}
\hyphenation{classic}
\hyphenation{ex-am-ple}
\hyphenation{ma-te-rialia}

\graphicspath{{figures/}}
\DeclareGraphicsExtensions{.png,.jpg,.pdf,.mps,.gif,.bmp,.eps}

% --- Para las dimensiones de los márgenes etc
% \frenchspacing \addtolength{\hoffset}{-1.5cm}
% \addtolength{\textwidth}{3cm} \addtolength{\voffset}{-2.5cm}
% \addtolength{\textheight}{4cm}
\marginsize{3.5cm}{2.5cm}{2cm}{2cm} 

% --- Para el encabezado
\usepackage{fancyhdr}
% \fancyhead[R]{UTFSM}\fancyhead[L]{} \fancyfoot[C]{\thepage}
\fancyhead[R]{UTFSM}\fancyhead[L]{Camilo Esteban Núñez Fernández} \fancyfoot[C]{\thepage}

\pagestyle{fancy}

% --- Para las tablas
%\renewcommand{\tablename}{Table}
%\renewcommand{\listtablename}{Índice de tablas}

% --- Para los algoritmos
%\renewcommand{\algorithmiccomment}[1]{// #1}
%\floatname{algorithm}{Algorithm}

% --- Para los apendices
% \renewcommand{\appendixname}{Anexo}
% \renewcommand{\appendixtocname}{Anexo}
% \renewcommand{\appendixpagename}{Anexo}
% -------------------------------------------------------- %

%\input{chapters/macros.tex}

%\title{Computational Analysis of a 3D Vertex Model for Grain Growth in Polycrystalline Material}
\title{Design, Implementation, and Application of a Context Aggregation-Enhanced Feature Fusion Approach for Object Detection and Instance Segmentation}
\author{Camilo Esteban Núñez Fernández}
\date{TBA}

\lstset{ %
language=C,                % choose the language of the code
basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=0,                   % the step between two line-numbers. If it's 1 each line 
                                % will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
frame=single,	                % adds a frame around the code
tabsize=2,	                % sets default tabsize to 2 spaces
captionpos=b,                   % sets the caption-position to bottom
breaklines=true,                % sets automatic line breaking
breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
title=\lstname,                 % show the filename of files included with \lstinputlisting;
                                % also try caption instead of title
escapeinside={\%*}{*)},         % if you want to add a comment within your code
morekeywords={*,...}            % if you want to add more keywords to the set
}

\begin{document}
\frontmatter
\input{chapters/00-title}
\input{chapters/01-dedication}
\input{chapters/02-abstract}
\markboth{}{}
\tableofcontents 
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\algnewcommand\algorithmicforeach{\textbf{for each}}
\algdef{S}[FOR]{ForEach}[1]{\algorithmicforeach\ #1\ \algorithmicdo}

\mainmatter
\input{chapters/10-introduction}
\input{chapters/20-background}
\input{chapters/30-related-work}
\input{chapters/40-proposal}
\input{chapters/51-results}
\input{chapters/52-discussion-and-analysis}
\input{chapters/60-conclusion}

\bibliographystyle{alpha}
\bibliography{references}

\input{chapters/70-appendix}

\listoffigures
\listoftables

\end{document}